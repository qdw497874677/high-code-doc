---
title: 详细设计
tags:
  - 技术设计
  - 详细设计
---

# 详细设计

> [!tip] 核心原则
> 细节程度足以直接编码，新人看文档能直接写代码

## 内容规则

| 规则 | 说明 |
|------|------|
| 必须可编码 | 细节程度足以直接写代码 |
| 必须完整定义接口 | 参数类型、必填、校验规则、错误码 |
| 必须完整定义表结构 | 字段、类型、约束、索引 |
| 必须有降级方案 | 核心功能必须有降级/回滚策略 |

## 时机规则

1. **前置条件**：[[概要设计]]评审通过后才开始
2. **开发前完成**：详细设计完成才能开始编码
3. **同步更新**：代码变更时同步更新文档

## 表达规则

1. **新人原则**：新人看文档能直接编码
2. **示例优先**：复杂逻辑配代码示例或伪代码
3. **变更记录**：每次修改记录变更内容

## 必备内容

### 1. 模块详细设计

- 类/函数设计
- 模块间交互

### 2. 完整流程图

- 时序图
- 状态图（如有）

### 3. 完整接口定义

- 请求参数（类型、必填、校验规则）
- 响应格式
- 错误码定义

### 4. 完整数据设计

- 表结构（字段、类型、约束）
- 索引设计
- 分库分表策略（如有）

### 5. 非功能需求

- 性能指标（具体数值）
- 安全方案
- 可扩展性

### 6. 降级 & 回滚

- 降级策略
- 回滚方案
- 灰度计划

## 相关

- [[概要设计]]
- [[通用规则]]
- [[模板/详细设计模板]]
